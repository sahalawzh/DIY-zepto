<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    div {
        width: 100px;
        height: 100px;
        border: solid 1px black;
    }
    </style>
</head>

<body>
    <div id="foo1">foo1</div>
    <div id="foo2">foo2</div>
    <div id="foo3">foo3
        <div id="foo31">foo31</div>
    </div>
    <a href="demo1.html" class="my-a">demo1.html</a>
    <script src="zepto.js"></script>
    <script type="text/javascript">
    var div1 = $('#foo1');
    var div2 = $('#foo2');
    var obj = {};
    var arr = [];
    var value = "hello";

    /*    $.getJSON('/projects.json', function(data) {
                console.log(data);
            }).done(function() {
                console.info("done");
            })
            .fail(function() {
                console.info("fail");
            })
            .always(function() {
                console.info("always");
            })
            .then(function() {
                console.info("then");
            });*/

    /*    $.get('/projects.json', function(data) {
            console.log(data);
        });*/


    /*$.ajax({
            type: 'GET',
            // type: 'POST',
            url: '/projects.json',
            data: {
                name: 'Zepto.js'
            },
            dataType: 'json',
            timeout: 300,
            context: $('body'),
            success: function(data) {
                console.log(data);
                // this.append(data.project.html)
            },
            error: function(xhr, type) {
                alert('Ajax error!');
            }
        })
        .done(function() {
            console.info("done");
        })
        .fail(function() {
            console.info("fail");
        })
        .always(function() {
            console.info("always");
        })
        //then 三个参数 第一个是成功后回掉，第二个是失败，第三个是运行中
        .then(function() {
            console.info("then1");
        }, function() {
            console.info("then2");
        }, function() {
            console.info("then3");
        });*/

    var wait = function(dtd) {　　　　
        var dtd = $.Deferred(); //在函数内部，新建一个Deferred对象　　　　
        var tasks = function() {　　　　　　
            alert("执行完毕！");　　　　　　
            dtd.resolve(); // 改变Deferred对象的执行状态   　　　　
        };　　
        setTimeout(tasks, 5000);　　　　
        return dtd.promise(); // 返回promise对象
        // 没有参数时，返回一个新的deferred对象，该对象的运行状态无法被改变；接受参数时，作用为在参数对象上部署deferred接口
        　　
    };　　
   /* $.when(wait())　　.done(function() {
        alert("哈哈，成功了！");
    })　　.fail(function() {
        alert("出错啦！");
    });*/

    $.Deferred(wait)
　　.done(function(){ alert("哈哈，成功了！"); })
　　.fail(function(){ alert("出错啦！"); });
    </script>
</body>

</html>
