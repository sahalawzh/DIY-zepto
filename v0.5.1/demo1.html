<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>callbacks API</title>
    <style type="text/css">
    div {
        width: 100px;
        height: 100px;
        border: solid 1px black;
    }
    </style>
</head>

<body>
    <div id="foo1">foo1</div>
    <div id="foo2">foo2</div>
    <div id="foo3">foo3
        <div id="foo31">foo31</div>
    </div>
    <a href="demo1.html" class="my-a">demo1.html</a>
    <script src="bundle.js"></script>
    <!-- <script src="_zepto.js"></script> -->
    <script type="text/javascript">
    var div1 = $('#foo1');
    var div2 = $('#foo2');
    var foo = function(value) {
        console.log('foo:' + value);
    };

    var bar = function(value) {
        console.log('bar:' + value);
    };
    //-------------------------------------------------------
   /*  var callbacks = $.Callbacks();

     callbacks.add(foo);

     callbacks.fire(['hello', 'wo', '123']);

     callbacks.add(bar);
     callbacks.fire('中');*/
     /*foo:hello,wo,123
	   demo1.html:29foo:中
	   demo1.html:33 bar:中*/
    //-------------------------------------------------------
   /* var callbacks = $.Callbacks({
        memory: true
    });
    callbacks.add(foo);
    callbacks.fire(['hello', 'wo', '123']);
    callbacks.add(bar);*/
    /*foo:hello,wo,123
    bar:hello,wo,123*/
    //-------------------------------------------------------
    var callbacks = $.Callbacks({
        memory: true,
        once:true//只能执行一次
    });
    callbacks.add(foo);
    callbacks.fire(['hello', 'wo', '123']);
    callbacks.add(bar);
    callbacks.fire(['hello', 'wo', '123']);
    /*foo:hello,wo,123
    bar:hello,wo,123*/
    //-------------------------------------------------------

    /*    $.getJSON('/projects.json', function(data) {
            console.log(data);
        }).done(function() {
            console.info("done");
        })
        .fail(function() {
            console.info("fail");
        })
        .always(function() {
            console.info("always");
        })
        .then(function() {
            console.info("then");
        });*/

    /*    $.get('/projects.json', function(data) {
            console.log(data);
        });*/


    /*$.ajax({
            type: 'GET',
            // type: 'POST',
            url: '/projects.json',
            data: {
                name: 'Zepto.js'
            },
            dataType: 'json',
            timeout: 300,
            context: $('body'),
            success: function(data) {
                console.log(data);
                this.append(data.project.html);
            },
            error: function(xhr, type) {
                alert('Ajax error!');
            }
        })
        .done(function() {
            console.info("done");
        })
        .fail(function() {
            console.info("fail");
        })
        .always(function() {
            console.info("always");
        })
        .then(function() {
            console.info("then");
        });*/
    </script>
</body>

</html>
